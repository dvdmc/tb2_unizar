<%
# Input parameters
tb_namespace           = @settings["tb_namespace"]
simulation_config_file = @settings["simulation_config_file"]
%>
name: <%= tb_namespace %>
attach: false
root: ./
startup_window: mission_monitoring
windows:
  # Platform
  - platform:
      layout: tiled
      panes:
      # Platform
        # TODO: Move somewhere else!
        # - ros2 launch tb2_unizar launch_simulation.py
        #   use_sim_time:=true
        #   simulation_config_file:=<%= simulation_config_file %>
        - ros2 launch tb2_unizar kobuki_description_unizar.launch.py urdf_file:=urdf/turtlebot_unizar_hokuyo_top.urdf.xacro use_sim_time:=True namespace:=<%= tb_namespace %>

  # Mission monitoring
  - mission_monitoring:
      layout:
      panes:
        - echo Run here the mission

  - navigation:
      layout:
      panes:
        - sleep 3 && ros2 launch nav2_bringup bringup_launch.py use_localization:=True use_sim_time:=True  namespace:=<%= tb_namespace %> use_composite:=False map:=maps/i3aApril2025.yaml params_file:=config/hokuyo/nav2_params.yaml
