name: tb2
attach: false
root: ./
startup_window: mission_monitoring
windows:
  # Mission monitoring
  - mission_monitoring:
      layout:
      panes:
        - echo Run here the mission
  # Pose
  - pose:
      layout:
      panes:
      # This should ideally be in the ground station for multi-robot setups.
        - ros2 launch mocap4r2_optitrack_driver optitrack2.launch.py namespace:=mocap config_file:=config/optitrack/mocap4r2_optitrack.yaml
        - sleep 1; ros2 lifecycle set /mocap/mocap4r2_optitrack_driver_node activate
  - static_transforms:
      layout:
      panes:
        # The map/earth transform is required for AS2 in the ground station
        - sleep 2; ros2 run tf2_ros static_transform_publisher --x 0 --y 0 --z 0 --qx 0 --qy 0 --qz 0 --qw 1 --child-frame-id /map --frame-id /earth
        - sleep 2; ros2 run tf2_ros static_transform_publisher --x 0 --y 0 --z 0 --qx 0 --qy 0 --qz 0 --qw 1 --child-frame-id /odom --frame-id /map